<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wrenchly ‚Äì Mijn voertuigen</title>
  <style>
    :root {
      --bg: #181818;
      --text: #f5f5f5;
      --card: #262626;
      --border: #333;
      --accent: #8fff91;
      --accent-dark: #73d176;
      --muted: #aaa;
      --danger: #f35a5a;
    }

    body {
      font-family: system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      margin: 0;
      padding: 2rem;
      display: flex;
      justify-content: center;
    }

    .container {
      width: 100%;
      max-width: 1000px;
    }

    h1 {
      font-size: 2.2rem;
      margin-bottom: 1.5rem;
    }

    /* VEHICLE CARD */
    .vehicle-card {
      display: flex;
      align-items: center;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      gap: 1.5rem;
    }

    .vehicle-card img {
      width: 220px;
      height: auto;
      border-radius: 10px;
    }

    .vehicle-info {
      flex: 1;
    }

    .vehicle-info h2 {
      margin: 0 0 0.25rem 0;
      font-size: 1.6rem;
    }

    .vehicle-info p {
      margin: 0.25rem 0;
      color: var(--muted);
    }

    .btn {
      padding: 0.6rem 1.2rem;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      border: none;
      transition: all 0.2s;
      margin-right: 0.4rem;
    }

    .btn-accent {
      background: var(--accent);
      color: #000;
    }

    .btn-accent:hover {
      background: var(--accent-dark);
    }

    .btn-dark {
      background: var(--card);
      color: var(--text);
      border: 1px solid var(--border);
    }

    /* ADD VEHICLE BUTTON */
    .add-vehicle {
      width: 100%;
      height: 48px;
      background: var(--card);
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 8px;
      font-weight: 500;
      cursor: pointer;
      font-size: 1rem;
    }

    .add-vehicle:hover {
      background: #2d2d2d;
    }

    /* TABS */
    .tabs {
      margin-top: 1.5rem;
      margin-bottom: 1rem;
      display: flex;
      gap: 0.5rem;
    }

    .tab-btn {
      background: var(--card);
      border: 1px solid var(--border);
      color: var(--text);
      padding: 0.6rem 1rem;
      border-radius: 6px;
      cursor: pointer;
    }

    .tab-btn.active {
      background: var(--accent);
      color: #000;
      font-weight: 600;
    }

    /* TABLES */
    table {
      width: 100%;
      border-collapse: collapse;
      background: var(--card);
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 2rem;
    }

    th, td {
      padding: 0.75rem 1rem;
      border-bottom: 1px solid var(--border);
      text-align: left;
    }

    th {
      background: #202020;
    }

    tr:hover td {
      background: #1f1f1f;
    }

    /* MODALS */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      justify-content: center;
      align-items: center;
      z-index: 100;
    }

    .modal-content {
      background: var(--card);
      padding: 1.5rem;
      border-radius: 8px;
      width: 90%;
      max-width: 420px;
      position: relative;
    }

    input, textarea {
      width: 100%;
      margin: 0.5rem 0 1rem 0;
      padding: 0.5rem;
      background: #1f1f1f;
      border: 1px solid var(--border);
      border-radius: 4px;
      color: var(--text);
    }

    .close {
      position: absolute;
      right: 12px;
      top: 8px;
      font-size: 1.3rem;
      cursor: pointer;
    }

    .thumbnail {
      width: 60px;
      height: 60px;
      border-radius: 8px;
      object-fit: cover;
      margin-right: 5px;
    }

    .preview {
      display: flex;
      gap: 5px;
      flex-wrap: wrap;
    }

    .toast {
      display: none;
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--accent-dark);
      color: #000;
      padding: 0.8rem 1rem;
      border-radius: 8px;
      font-weight: 600;
      z-index: 200;
    }

    /* RESPONSIVE */
    @media(max-width: 768px) {
      body { padding: 1rem; }
      .vehicle-card {
        flex-direction: column;
        align-items: flex-start;
      }
      .vehicle-card img {
        width: 100%;
        margin-bottom: 1rem;
      }
      .btn {
        display: block;
        width: 100%;
        margin: 0.3rem 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- HOME PAGE -->
    <div id="homePage">
      <h1>Mijn voertuigen</h1>
      <div class="vehicle-card">
        <img src="xc90_2.5t_image.png" alt="Volvo XC90" />
        <div class="vehicle-info">
          <h2>Volvo XC90 2.5T</h2>
          <p>Kenteken: 83-PJ-SC</p>
          <p>Laatst onderhoud: 31-05-2024</p>
          <button class="btn btn-accent" onclick="openDetails()">Bekijk onderhoud</button>
        </div>
      </div>
      <button class="add-vehicle">+ Voertuig toevoegen</button>
    </div>

    <!-- DETAIL PAGE -->
    <div id="vehicleDetail" style="display:none;">
      <button class="btn btn-dark" onclick="goBack()" style="margin-bottom:1rem;">‚Üê Terug</button>

      <div class="vehicle-card">
        <img src="xc90_2.5t_image.png" alt="Volvo XC90" />
        <div class="vehicle-info">
          <h2>Volvo XC90 2.5T</h2>
          <p>Kenteken: 83-PJ-SC</p>
          <p>Laatst onderhoud: 2025-01-07</p>
          <button class="btn btn-accent" id="planBtn">Plan afspraak</button>
          <button class="btn btn-dark" id="uploadBtn">+ Upload factuur</button>
          <button class="btn btn-dark">Export CSV</button>
        </div>
      </div>

      <div class="tabs">
        <button class="tab-btn active" data-tab="reparaties">Reparaties</button>
        <button class="tab-btn" data-tab="service">Serviceboekje</button>
        <button class="tab-btn" data-tab="aanstaand">Aanstaand onderhoud</button>
      </div>

      <!-- REPARATIES -->
      <table id="reparatiesTable">
        <thead><tr><th>Datum</th><th>Garage</th><th>Omschrijving</th><th>Bedrag</th></tr></thead>
        <tbody>
          <tr><td>2022-03-10</td><td>Total Car Service Naarden</td><td>Remvloeistof vervangen</td><td>‚Ç¨95,00</td></tr>
          <tr><td>2022-06-20</td><td>Total Car Service Naarden</td><td>Kleine beurt + filters</td><td>‚Ç¨260,00</td></tr>
          <tr><td>2022-12-18</td><td>Total Car Service Naarden</td><td>Grote beurt + bougies</td><td>‚Ç¨640,00</td></tr>
          <tr><td>2023-03-12</td><td>Total Car Service Naarden</td><td>Remblokken achter vervangen</td><td>‚Ç¨210,00</td></tr>
          <tr><td>2023-06-15</td><td>Total Car Service Naarden</td><td>Nieuwe zomerbanden</td><td>‚Ç¨480,00</td></tr>
          <tr><td>2023-08-22</td><td>Total Car Service Naarden</td><td>APK + controle</td><td>‚Ç¨75,00</td></tr>
          <tr><td>2023-10-17</td><td>Total Car Service Naarden</td><td>Remblokset + schijven vervangen</td><td>‚Ç¨488,03</td></tr>
          <tr><td>2023-11-29</td><td>Total Car Service Naarden</td><td>Olie + filter vervangen</td><td>‚Ç¨258,78</td></tr>
          <tr><td>2023-12-08</td><td>Total Car Service Naarden</td><td>Kleine beurt + oliefilter</td><td>‚Ç¨264,06</td></tr>
          <tr><td>2024-02-23</td><td>Autobandenhal.nl Tynaarlo</td><td>Nieuwe winterbanden</td><td>‚Ç¨90,00</td></tr>
          <tr><td>2024-05-31</td><td>Total Car Service Naarden</td><td>Olie & filters</td><td>‚Ç¨544,08</td></tr>
          <tr><td>2024-08-21</td><td>Total Car Service Naarden</td><td>Nieuwe accu</td><td>‚Ç¨189,00</td></tr>
        </tbody>
        <tfoot><tr><td colspan="3">Totaal</td><td>‚Ç¨3.593,95</td></tr></tfoot>
      </table>

      <!-- SERVICEBOEKJE -->
      <table id="serviceTable" style="display:none;">
        <thead><tr><th>Datum</th><th>Omschrijving</th><th>Garage</th><th>Kilometerstand</th></tr></thead>
        <tbody>
          <tr><td>2020-05-22</td><td>APK + onderhoud</td><td>Total Car Service</td><td>148.500 km</td></tr>
          <tr><td>2021-05-01</td><td>Grote beurt + filters</td><td>Total Car Service</td><td>165.200 km</td></tr>
          <tr><td>2021-11-13</td><td>Nieuwe accu + olieverversing</td><td>Total Car Service</td><td>173.400 km</td></tr>
          <tr><td>2022-06-20</td><td>Jaarlijkse onderhoudsbeurt</td><td>Total Car Service</td><td>188.240 km</td></tr>
          <tr><td>2022-12-10</td><td>APK + filters</td><td>Total Car Service</td><td>192.800 km</td></tr>
          <tr><td>2023-05-12</td><td>Olie + filter vervangen</td><td>Total Car Service</td><td>198.740 km</td></tr>
          <tr><td>2023-11-15</td><td>Grote beurt + remcontrole</td><td>Total Car Service</td><td>204.120 km</td></tr>
          <tr><td>2024-05-31</td><td>APK keuring + remmencontrole</td><td>Total Car Service</td><td>209.870 km</td></tr>
          <tr><td>2024-10-21</td><td>Nieuwe banden + uitlijning</td><td>Total Car Service</td><td>213.540 km</td></tr>
          <tr><td>2025-01-07</td><td>Kleine beurt + olieverversing</td><td>Total Car Service</td><td>215.800 km</td></tr>
        </tbody>
      </table>

      <!-- AANSTAAND -->
      <table id="aanstaandTable" style="display:none;">
        <thead><tr><th>Type</th><th>Verwacht bij</th><th>Urgentie</th><th>Kosten</th><th></th></tr></thead>
        <tbody>
          <tr><td>Distributieriem</td><td>380.000 km</td><td>‚ö†Ô∏è Hoog</td><td>‚Ç¨850,00</td><td><button class="btn btn-accent" onclick="openModal('planModal')">Plan</button></td></tr>
          <tr><td>Remvloeistof verversen</td><td>370.000 km</td><td>üü† Middel</td><td>‚Ç¨95,00</td><td><button class="btn btn-accent" onclick="openModal('planModal')">Plan</button></td></tr>
          <tr><td>Bougies vervangen</td><td>400.000 km</td><td>üü¢ Laag</td><td>‚Ç¨180,00</td><td><button class="btn btn-accent" onclick="openModal('planModal')">Plan</button></td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- PLAN MODAL -->
  <div id="planModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('planModal')">&times;</span>
      <h3>Plan onderhoudsafspraak</h3>
      <label>Datum:</label>
      <input type="date" />
      <label>Opmerkingen:</label>
      <textarea placeholder="Bijv. olie vervangen of controle remmen..."></textarea>
      <label>Voeg afbeelding toe:</label>
      <input type="file" id="planFile" accept="image/*" multiple onchange="previewFiles(event, 'planPreview')" />
      <div class="preview" id="planPreview"></div>
      <button class="btn btn-accent" onclick="showToast('Afspraak ingepland!')">Opslaan</button>
    </div>
  </div>

  <!-- UPLOAD MODAL -->
  <div id="uploadModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('uploadModal')">&times;</span>
      <h3>Nieuwe factuur uploaden</h3>
      <label>Omschrijving:</label>
      <input type="text" placeholder="Bijv. Remblokken vervangen" />
      <label>Bedrag (‚Ç¨):</label>
      <input type="number" />
      <label>Upload bestand:</label>
      <input type="file" id="uploadFile" accept="image/*,.pdf" multiple onchange="previewFiles(event, 'uploadPreview')" />
      <div class="preview" id="uploadPreview"></div>
      <button class="btn btn-accent" onclick="showToast('Factuur ge√ºpload!')">Opslaan</button>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    function openDetails() {
      document.getElementById('homePage').style.display = 'none';
      document.getElementById('vehicleDetail').style.display = 'block';
      window.scrollTo(0, 0);
    }

    function goBack() {
      document.getElementById('vehicleDetail').style.display = 'none';
      document.getElementById('homePage').style.display = 'block';
    }

    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const tab = btn.dataset.tab;
        document.getElementById('reparatiesTable').style.display = tab === 'reparaties' ? '' : 'none';
        document.getElementById('serviceTable').style.display = tab === 'service' ? '' : 'none';
        document.getElementById('aanstaandTable').style.display = tab === 'aanstaand' ? '' : 'none';
      });
    });

    function openModal(id) {
      document.getElementById(id).style.display = 'flex';
    }

    function closeModal(id) {
      document.getElementById(id).style.display = 'none';
    }

    function showToast(msg) {
      const toast = document.getElementById('toast');
      toast.textContent = '‚úÖ ' + msg;
      toast.style.display = 'block';
      setTimeout(() => toast.style.display = 'none
