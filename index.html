<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wrenchly ‚Äì Mijn voertuigen</title>
  <style>
    :root {
      --bg: #181818;
      --text: #f5f5f5;
      --card: #262626;
      --border: #333;
      --accent: #8fff91;
      --accent-dark: #73d176;
      --muted: #aaa;
      --danger: #f35a5a;
    }

    body {
      font-family: system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      margin: 0;
      padding: 2rem;
      display: flex;
      justify-content: center;
    }

    .container {
      width: 100%;
      max-width: 1000px;
    }

    h1 {
      font-size: 2.2rem;
      margin-bottom: 1.5rem;
    }

    /* VEHICLE CARD */
    .vehicle-card {
      display: flex;
      align-items: center;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      width: 100%;
      margin-bottom: 1.5rem;
    }

    .vehicle-card img {
      width: 220px;
      height: auto;
      border-radius: 10px;
      margin-right: 1.5rem;
    }

    .vehicle-info h2 { margin: 0 0 0.25rem 0; }
    .vehicle-info p { margin: 0.2rem 0; color: var(--muted); }

    .btn {
      padding: 0.45rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      border: none;
      transition: all 0.2s;
    }

    .btn-accent { background: var(--accent); color: #000; }
    .btn-dark { background: var(--card); color: var(--text); border: 1px solid var(--border); }
    .btn-accent:hover { background: var(--accent-dark); }

    .tabs { margin-bottom: 1rem; }
    .tab-btn {
      background: var(--card);
      border: 1px solid var(--border);
      color: var(--text);
      padding: 0.5rem 1rem;
      border-radius: 6px;
      margin-right: 0.5rem;
      cursor: pointer;
    }
    .tab-btn.active {
      background: var(--accent);
      color: #000;
      font-weight: 600;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: var(--card);
      border-radius: 8px;
      overflow: hidden;
    }

    th, td {
      padding: 0.75rem 1rem;
      border-bottom: 1px solid var(--border);
      text-align: left;
    }

    th { background: #202020; }
    tr:hover td { background: #1f1f1f; }

    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      justify-content: center;
      align-items: center;
      z-index: 100;
    }

    .modal-content {
      background: var(--card);
      padding: 1.5rem;
      border-radius: 8px;
      width: 90%;
      max-width: 420px;
    }

    input, textarea {
      width: 100%;
      margin: 0.5rem 0 1rem 0;
      padding: 0.5rem;
      background: #1f1f1f;
      border: 1px solid var(--border);
      border-radius: 4px;
      color: var(--text);
    }

    .close {
      float: right;
      font-size: 1.3rem;
      cursor: pointer;
    }

    .toast {
      display: none;
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--accent-dark);
      color: #000;
      padding: 0.8rem 1rem;
      border-radius: 8px;
      font-weight: 600;
    }

    .thumbnail {
      width: 60px;
      height: 60px;
      border-radius: 8px;
      object-fit: cover;
      margin-right: 5px;
    }

    @media(max-width:700px){
      .vehicle-card { flex-direction: column; align-items: flex-start; }
      .vehicle-card img { width: 100%; margin-bottom: 1rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="homePage">
      <h1>Mijn voertuigen</h1>
      <div class="vehicle-card">
        <img src="xc90_2.5t_image.png" alt="Volvo XC90" />
        <div class="vehicle-info">
          <h2>Volvo XC90 2.5T</h2>
          <p>Kenteken: 83-PJ-SC</p>
          <p>Laatst onderhoud: 31-05-2024</p>
          <button class="btn btn-accent" onclick="openDetails()">Bekijk onderhoud</button>
        </div>
      </div>
      <button class="btn btn-dark" style="width:100%;">+ Voertuig toevoegen</button>
    </div>

    <div id="vehicleDetail" style="display:none;">
      <button class="btn btn-dark" onclick="goBack()" style="margin-bottom:1rem;">‚Üê Terug</button>

      <div class="vehicle-card" style="cursor:default;">
        <img src="xc90_2.5t_image.png" alt="Volvo XC90" />
        <div class="vehicle-info">
          <h2>Volvo XC90 2.5T</h2>
          <p>Kenteken: 83-PJ-SC</p>
          <p>Laatst onderhoud: 31-05-2024</p>
          <button class="btn btn-accent" id="planBtn">Plan afspraak</button>
          <button class="btn btn-dark" id="uploadBtn">Upload factuur</button>
          <button class="btn btn-dark">Export CSV</button>
        </div>
      </div>

      <div class="tabs">
        <button class="tab-btn active" data-tab="reparaties">Reparaties</button>
        <button class="tab-btn" data-tab="service">Serviceboekje</button>
        <button class="tab-btn" data-tab="aanstaand">Aanstaand onderhoud</button>
      </div>

      <!-- Reparaties -->
      <table id="reparatiesTable">
        <thead><tr><th>Datum</th><th>Garage</th><th>Omschrijving</th><th>Bedrag</th></tr></thead>
        <tbody>
          <tr><td>2023-10-17</td><td>Total Car Service Naarden</td><td>Remblokset en remschijf vervangen, werkplaatskosten</td><td>‚Ç¨488,03</td></tr>
          <tr><td>2023-11-29</td><td>Total Car Service Naarden</td><td>Olie + filter vervangen</td><td>‚Ç¨258,78</td></tr>
          <tr><td>2023-12-08</td><td>Total Car Service Naarden</td><td>Kleine beurt + oliefilter</td><td>‚Ç¨264,06</td></tr>
          <tr><td>2024-02-23</td><td>Autobandenhal.nl Tynaarlo</td><td>Nieuwe winterbanden</td><td>‚Ç¨90,00</td></tr>
          <tr><td>2024-05-31</td><td>Total Car Service Naarden</td><td>Olie & filters</td><td>‚Ç¨544,08</td></tr>
          <tr><td>2024-12-10</td><td>Total Car Service Naarden</td><td>Remvloeistof vervangen</td><td>‚Ç¨377,44</td></tr>
          <tr><td>2025-01-07</td><td>Total Car Service Naarden</td><td>Airco onderhoud + vullen</td><td>‚Ç¨361,68</td></tr>
          <tr><td>2025-05-19</td><td>Total Car Service Naarden</td><td>Uitlaatdemper vervangen</td><td>‚Ç¨277,70</td></tr>
          <tr><td>2025-06-06</td><td>Total Car Service Naarden</td><td>Oliepomp inspectie</td><td>‚Ç¨370,27</td></tr>
          <tr><td>2025-07-18</td><td>Total Car Service Naarden</td><td>Remleiding vervangen + APK</td><td>‚Ç¨212,50</td></tr>
        </tbody>
        <tfoot><tr><td colspan="3">Totaal</td><td>‚Ç¨3.243,54</td></tr></tfoot>
      </table>

      <!-- Serviceboekje -->
      <table id="serviceTable" style="display:none;">
        <thead><tr><th>Datum</th><th>Omschrijving</th><th>Garage</th><th>Kilometerstand</th></tr></thead>
        <tbody>
          <tr><td>2018-05-23</td><td>Service 60.000 km / 2 jaar</td><td>Total Car Service Naarden</td><td>62.150 km</td></tr>
          <tr><td>2019-05-20</td><td>Service 90.000 km / 3 jaar</td><td>Total Car Service Naarden</td><td>92.810 km</td></tr>
          <tr><td>2020-05-22</td><td>Service 120.000 km / 4 jaar</td><td>Total Car Service Naarden</td><td>122.460 km</td></tr>
          <tr><td>2021-06-04</td><td>Service 150.000 km / 5 jaar</td><td>Total Car Service Naarden</td><td>151.080 km</td></tr>
          <tr><td>2022-06-14</td><td>Service 180.000 km / 6 jaar</td><td>Total Car Service Naarden</td><td>179.740 km</td></tr>
          <tr><td>2023-06-26</td><td>Service 210.000 km / 7 jaar</td><td>Total Car Service Naarden</td><td>210.560 km</td></tr>
          <tr><td>2024-07-02</td><td>Service 240.000 km / 8 jaar</td><td>Total Car Service Naarden</td><td>240.950 km</td></tr>
          <tr><td>2025-06-30</td><td>Service 270.000 km / 9 jaar</td><td>Total Car Service Naarden</td><td>269.430 km</td></tr>
          <tr><td>2026-06-12</td><td>Service 300.000 km / 10 jaar</td><td>Total Car Service Naarden</td><td>301.200 km</td></tr>
          <tr><td>2027-06-08</td><td>Service 330.000 km / 11 jaar</td><td>Total Car Service Naarden</td><td>332.870 km</td></tr>
          <tr><td>2028-06-16</td><td>Service 360.000 km / 12 jaar</td><td>Total Car Service Naarden</td><td>361.550 km</td></tr>
          <tr><td>2029-06-20</td><td>Service 390.000 km / 13 jaar</td><td>Total Car Service Naarden</td><td>392.310 km</td></tr>
        </tbody>
      </table>

      <!-- Aanstaand onderhoud -->
      <table id="aanstaandTable" style="display:none;">
        <thead><tr><th>Type</th><th>Verwacht bij</th><th>Urgentie</th><th>Kosten</th><th></th></tr></thead>
        <tbody>
          <tr><td>Distributieriem</td><td>380.000 km</td><td>‚ö†Ô∏è Hoog</td><td>‚Ç¨850,00</td><td><button class="btn btn-accent" onclick="openModal('planModal')">Plan</button></td></tr>
          <tr><td>Remvloeistof verversen</td><td>370.000 km</td><td>üü† Middel</td><td>‚Ç¨95,00</td><td><button class="btn btn-accent" onclick="openModal('planModal')">Plan</button></td></tr>
          <tr><td>Bougies vervangen</td><td>400.000 km</td><td>üü¢ Laag</td><td>‚Ç¨180,00</td><td><button class="btn btn-accent" onclick="openModal('planModal')">Plan</button></td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- MODALS -->
  <div id="uploadModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('uploadModal')">&times;</span>
      <h3>Nieuwe factuur uploaden</h3>
      <input type="text" placeholder="Omschrijving..." />
      <input type="number" placeholder="Bedrag (‚Ç¨)" />
      <input type="file" id="factuurFile" accept=".jpg,.jpeg,.png,.pdf" multiple onchange="previewUploads(event)" />
      <div id="previewContainer" style="display:flex; flex-wrap:wrap;"></div>
      <button class="btn btn-accent" onclick="showToast()">Opslaan</button>
    </div>
  </div>

  <div id="planModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('planModal')">&times;</span>
      <h3>Afspraak plannen</h3>
      <textarea id="issueText" placeholder="Omschrijf het probleem..."></textarea>
      <input type="file" id="planFile" accept=".jpg,.jpeg,.png" multiple onchange="previewUploads(event)" />
      <div id="aiSuggestion" style="margin-top:1rem; font-size:0.9rem; color:var(--muted);"></div>
      <button class="btn btn-accent" onclick="aiSimulate()">Genereer AI suggestie</button>
      <button class="btn btn-accent" onclick="showToast()">Verzend verzoek</button>
    </div>
  </div>

  <div class="toast" id="toast">‚úÖ Verzoek verzonden</div>

  <script>
    function openDetails() {
      document.getElementById('homePage').style.display = 'none';
      document.getElementById('vehicleDetail').style.display = 'block';
      window.scrollTo(0, 0);
    }

    function goBack() {
      document.getElementById('vehicleDetail').style.display = 'none';
      document.getElementById('homePage').style.display = 'block';
    }

    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const tab = btn.dataset.tab;
        document.getElementById('reparatiesTable').style.display = tab === 'reparaties' ? '' : 'none';
        document.getElementById('serviceTable').style.display = tab === 'service' ? '' : 'none';
        document.getElementById('aanstaandTable').style.display = tab === 'aanstaand' ? '' : 'none';
      });
    });

    function openModal(id){ document.getElementById(id).style.display='flex'; }
    function closeModal(id){ document.getElementById(id).style.display='none'; }

    function previewUploads(event){
      const files = event.target.files;
      const container = document.getElementById('previewContainer');
      container.innerHTML = '';
      for (const file of files){
        const reader = new FileReader();
        reader.onload = e => {
          const img = document.createElement('img');
          img.src = e.target.result;
          img.className = 'thumbnail';
          container.appendChild(img);
        };
        reader.readAsDataURL(file);
      }
    }

    function aiSimulate(){
      const el = document.getElementById('aiSuggestion');
      el.innerText = "üí° Suggestie: Controleer remvloeistofniveau en plan vervanging binnen 2 maanden.";
    }

    function showToast(){
      const toast = document.getElementById('toast');
      toast.style.display = 'block';
      setTimeout(()=>toast.style.display='none',2000);
      closeModal('uploadModal');
      closeModal('planModal');
    }

    document.getElementById('uploadBtn').onclick=()=>openModal('uploadModal');
    document.getElementById('planBtn').onclick=()=>openModal('planModal');
  </script>
</body>
</html>
